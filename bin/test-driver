#!/bin/bash


echo; echo;
echo "Running tests"
echo "-------------"
echo 
echo "using root: " `pwd`


#TODO: excecute all parameters
#TODO: Yell and stuff if when excecuting one of the params it fails

echo -n ">> ";
$1

echo
echo ">> Testing compiler"


testfiles=`find src/test/*.csl`

for file in ${testfiles}; do 
	echo -n ${file}":	" ;   cat ${file} | bin/compsl-cmplr; 
done


# TODO: print a big message if no errors